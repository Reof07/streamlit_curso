# ğŸ§  Componentes de Streamlit usados en tu app

A continuaciÃ³n, se detallan los componentes principales de Streamlit utilizados en tu aplicaciÃ³n, explicando quÃ© hacen, cÃ³mo funcionan y por quÃ© son Ãºtiles.

---

## 1. `import streamlit as st`

### Â¿QuÃ© hace?
Importa toda la funcionalidad de Streamlit y la pone disponible bajo el alias `st`.

### Â¿CÃ³mo funciona?
Streamlit es una librerÃ­a que transforma un script de Python en una aplicaciÃ³n web interactiva. Todo lo que uses como `st.elemento(...)` se traduce automÃ¡ticamente en widgets web o interfaz en el navegador.

### Â¿Por quÃ© lo usamos?
Necesitamos crear una interfaz amigable (tÃ­tulo, entradas de texto, mensajes de chat) de forma sencilla y rÃ¡pida, sin necesidad de escribir HTML o JavaScript.

---

## 2. `st.title("ğŸ§  Mi Chat con LangChain + Streamlit")`

### Â¿QuÃ© hace?
Muestra un tÃ­tulo grande (de tipo `<h1>`) en la parte superior de tu aplicaciÃ³n.

### Â¿CÃ³mo funciona?
Streamlit interpreta esto y genera un HTML visible en la web con estilo grande. Cada vez que ejecutas el script, este `st.title` vuelve a pintar el tÃ­tulo.

### Â¿Por quÃ© lo usamos?
Para que el usuario vea claramente de quÃ© trata la aplicaciÃ³n. Este tipo de detalles mejora significativamente la experiencia del usuario.

---

## 3. `st.session_state`

### Â¿QuÃ© hace?
Guarda datos persistentes entre interacciones del usuario. Aunque el script de Streamlit se recargue cada vez que el usuario interactÃºa, `st.session_state` mantiene ciertos datos vivos.

### Â¿CÃ³mo funciona?
Internamente, Streamlit guarda una especie de "estado de sesiÃ³n" que sobrevive a recargas del navegador. Cuando defines `st.session_state["algo"]`, ese "algo" queda guardado entre interacciones.

### Â¿Por quÃ© lo usamos?
- Para guardar el historial de conversaciÃ³n (`messages`).
- Sin esto, el chat se borrarÃ­a cada vez que el usuario escribe algo nuevo.
- Es crÃ­tico para mantener una conversaciÃ³n continua.

---

## 4. `st.chat_input("Â¿QuÃ© quieres saber?")`

### Â¿QuÃ© hace?
Muestra un campo de entrada de texto especial al estilo "chat" en la parte inferior de la pantalla.

### Â¿CÃ³mo funciona?
Es similar a `st.text_input`, pero con un diseÃ±o adaptado para aplicaciones de mensajerÃ­a/chat. Cuando el usuario envÃ­a el mensaje (presionando Enter o un botÃ³n), el script se recarga y puedes acceder al contenido enviado.

### Â¿Por quÃ© lo usamos?
Para permitir que el usuario escriba preguntas de forma cÃ³moda, como si estuviera chateando.

---

## 5. `st.chat_message(role)`

### Â¿QuÃ© hace?
Crea un bloque de chat visual que representa un mensaje enviado por un usuario, asistente o sistema.

### Â¿CÃ³mo funciona?
El parÃ¡metro `role` puede ser:
- `"user"`: Streamlit muestra un mensaje como si fuera enviado por la persona que usa la app.
- `"assistant"`: Streamlit muestra un mensaje como si fuera el asistente o bot.
- `"system"`: (opcional) mensajes administrativos o internos.

Dentro de un `st.chat_message`, puedes incluir otros elementos como `st.markdown`, `st.text`, imÃ¡genes, botones, etc.

### Â¿Por quÃ© lo usamos?
Para construir un chat visualmente ordenado. Cada burbuja de mensaje se ve clara y separada, similar a WhatsApp o cualquier mensajero.

---

## 6. `st.markdown(texto)`

### Â¿QuÃ© hace?
Renderiza texto enriquecido en formato Markdown.

### Â¿CÃ³mo funciona?
Markdown es un formato ligero para dar estilo a los textos (**negrita**, *cursiva*, listas, enlaces, etc.). Streamlit convierte automÃ¡ticamente el texto Markdown a HTML visible.

### Â¿Por quÃ© lo usamos?
Para mostrar los mensajes del usuario y del asistente de forma mÃ¡s atractiva que un simple texto plano. AdemÃ¡s, permite usar emojis, enlaces, tÃ­tulos, etc.

---

## ğŸ”¥ Bonus: Flujo real interno de estos componentes

Cuando ejecutas tu aplicaciÃ³n de Streamlit:

1. **Carga inicial**: Se carga el script de arriba hacia abajo.
2. **InterpretaciÃ³n**: Streamlit interpreta cada componente (`st.title`, `st.chat_input`, etc.) y los pinta en el navegador.
3. **InteracciÃ³n del usuario**:
   - Cuando un usuario envÃ­a un mensaje (`chat_input`), Streamlit:
     - Recarga el script.
     - Recuerda todo lo que estaba en `st.session_state`.
     - Vuelve a pintar todo, pero ahora con el nuevo input agregado.
4. **Resultado final**: AsÃ­ logra que parezca una aplicaciÃ³n "viva", aunque en realidad re-ejecuta Python completo cada vez.

---

## ğŸ¯ Resumen de los componentes

| **Componente**         | **FunciÃ³n**                                                                 |
|-------------------------|-----------------------------------------------------------------------------|
| `st.title`             | Muestra un tÃ­tulo grande en la parte superior de la aplicaciÃ³n.            |
| `st.session_state`     | Guarda datos persistentes entre interacciones del usuario.                 |
| `st.chat_input`        | Permite al usuario escribir mensajes de forma cÃ³moda.                      |
| `st.chat_message`      | Muestra mensajes de chat organizados (usuario, asistente, sistema).        |
| `st.markdown`          | Renderiza texto enriquecido con formato Markdown.                          |

---

Con estos componentes, puedes construir una aplicaciÃ³n interactiva y visualmente atractiva sin complicaciones. Â¡Espero que esta guÃ­a te sea Ãºtil! ğŸ˜ŠğŸš€